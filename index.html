<!DOCTYPE html>
<html>
<head>
  <title>Galaxia OS</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: #000;
      font-family: 'Orbitron', system-ui, sans-serif;
      color: #0ff;
    }

    /* INTRO */
    .galaxia-intro {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.6rem;
      color: #0ff;
      text-shadow: 0 0 20px #0ff, 0 0 40px #0ff;
      opacity: 0;
      animation: galaxiaIntro 4s ease-out forwards;
      z-index: 9999;
      pointer-events: none;
    }

    @keyframes galaxiaIntro {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); filter: blur(8px); }
      20% { opacity: 1; transform: translate(-50%, -50%) scale(1); filter: blur(0); }
      70% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
      100% { opacity: 0; transform: translate(-50%, -50%) scale(1.2); filter: blur(12px); }
    }

    /* STARFIELD */
    .stars, .stars2, .stars3 {
      position: fixed;
      width: 200%;
      height: 200%;
      top: -50%;
      left: -50%;
      background-repeat: repeat;
      background-size: cover;
      opacity: 0.25;
      z-index: -3;
      animation: drift 120s linear infinite;
    }

    .stars  { background-image: url('https://i.imgur.com/9aKxH8Z.gif'); animation-duration: 160s; opacity: 0.35; }
    .stars2 { background-image: url('https://i.imgur.com/9aKxH8Z.gif'); animation-duration: 110s; opacity: 0.22; }
    .stars3 { background-image: url('https://i.imgur.com/9aKxH8Z.gif'); animation-duration: 70s;  opacity: 0.12; }

    @keyframes drift {
      from { transform: translate(0,0) scale(1.3); }
      to   { transform: translate(20%,20%) scale(1.3); }
    }

    /* TOP BAR (BROWSER) */
    .top-bar {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 18px;
      background: rgba(0, 25, 40, 0.7);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid #0ff;
      box-shadow: 0 0 20px rgba(0,255,255,0.2);
      position: relative;
      z-index: 10;
    }

    .url-input {
      flex: 1;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid #0ff;
      background: rgba(0,0,0,0.7);
      color: #eaffff;
      font-size: 14px;
      outline: none;
      transition: 0.25s;
    }

    .url-input:focus {
      box-shadow: 0 0 20px #0ff;
      transform: scale(1.03);
    }

    .btn {
      padding: 8px 18px;
      border-radius: 999px;
      border: 1px solid #0ff;
      background: rgba(0,0,0,0.85);
      color: #eaffff;
      cursor: pointer;
      font-size: 13px;
      transition: 0.25s;
    }

    .btn:hover {
      background: rgba(0,255,255,0.25);
      box-shadow: 0 0 20px #0ff;
      transform: scale(1.08);
    }

    .turbo-indicator {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #0ff;
      background: rgba(0,0,0,0.7);
      color: #0ff;
    }

    /* LAYOUT */
    .main-wrap {
      position: absolute;
      top: 52px;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
    }

    /* SHORTCUT PANEL */
    .gx-shortcuts {
      width: 190px;
      padding: 12px;
      background: rgba(0, 20, 40, 0.8);
      border-right: 1px solid #0ff;
      box-shadow: 0 0 15px rgba(0,255,255,0.3);
      backdrop-filter: blur(10px);
      z-index: 5;
      color: #0ff;
      font-family: 'Orbitron', sans-serif;
      transition: 0.3s;
    }

    .gx-shortcuts.hidden {
      transform: translateX(-200px);
      opacity: 0;
    }

    .gx-shortcuts h3 {
      margin: 0 0 8px 0;
      font-size: 0.9rem;
      text-align: center;
      text-shadow: 0 0 10px #0ff;
    }

    .gx-shortcuts button {
      width: 100%;
      margin: 4px 0;
      padding: 7px;
      border-radius: 6px;
      border: 1px solid #0ff;
      background: rgba(0,0,0,0.7);
      color: #eaffff;
      cursor: pointer;
      font-size: 0.75rem;
      transition: 0.2s;
    }

    .gx-shortcuts button:hover {
      background: rgba(0,255,255,0.25);
      box-shadow: 0 0 15px #0ff;
      transform: scale(1.05);
    }

    /* TOGGLE BUTTON */
    .toggle-panel {
      position: fixed;
      top: 60px;
      left: 10px;
      padding: 6px 10px;
      background: rgba(0,0,0,0.8);
      border: 1px solid #0ff;
      border-radius: 8px;
      color: #0ff;
      cursor: pointer;
      z-index: 1000;
      transition: 0.25s;
      font-size: 11px;
    }

    .toggle-panel:hover {
      background: rgba(0,255,255,0.25);
      box-shadow: 0 0 15px #0ff;
    }

    /* DESKTOP / APP AREA */
    .desktop {
      flex: 1;
      position: relative;
      background: rgba(0,0,0,0.6);
      border-left: 1px solid #0ff;
      box-shadow: inset 0 0 25px rgba(0,255,255,0.15);
      overflow: hidden;
    }

    .app-screen {
      position: absolute;
      inset: 0;
      padding: 20px;
      display: none;
      color: #eaffff;
      overflow: auto;
    }

    .app-screen.active {
      display: block;
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .app-title {
      font-size: 1.4rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #0ff;
    }

    .app-sub {
      font-size: 0.9rem;
      opacity: 0.8;
      margin-bottom: 20px;
    }

    .card {
      background: rgba(0,0,0,0.7);
      border: 1px solid #0ff;
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 12px;
      box-shadow: 0 0 15px rgba(0,255,255,0.2);
    }

    /* WEB VIEW APP */
    #app-web iframe {
      width: 100%;
      height: calc(100% - 10px);
      border: none;
      background: #000;
      transition: opacity 0.25s ease;
    }

    /* NOTES APP */
    #notes-area {
      width: 100%;
      height: 260px;
      background: rgba(0,0,0,0.8);
      border: 1px solid #0ff;
      border-radius: 8px;
      color: #eaffff;
      padding: 10px;
      resize: vertical;
      outline: none;
      font-family: monospace;
    }

    /* CLOCK APP */
    #clock-display {
      font-size: 2.4rem;
      text-shadow: 0 0 15px #0ff;
      margin-bottom: 10px;
    }

    /* CALCULATOR APP */
    .calc-display {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      background: rgba(0,0,0,0.8);
      border: 1px solid #0ff;
      border-radius: 8px;
      color: #0ff;
      font-family: monospace;
      font-size: 1.1rem;
      box-sizing: border-box;
    }

    .calc-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 6px;
    }

    .calc-btn {
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #0ff;
      background: rgba(0,0,0,0.8);
      color: #eaffff;
      cursor: pointer;
      font-size: 1rem;
      transition: 0.2s;
    }

    .calc-btn:hover {
      background: rgba(0,255,255,0.25);
      box-shadow: 0 0 10px #0ff;
    }

    /* TERMINAL APP */
    #terminal-output {
      width: 100%;
      height: 220px;
      background: #000;
      border: 1px solid #0ff;
      border-radius: 8px;
      padding: 8px;
      color: #0ff;
      font-family: monospace;
      font-size: 0.85rem;
      overflow-y: auto;
      box-sizing: border-box;
    }

    #terminal-input {
      width: 100%;
      margin-top: 8px;
      padding: 8px;
      background: rgba(0,0,0,0.8);
      border: 1px solid #0ff;
      border-radius: 8px;
      color: #eaffff;
      font-family: monospace;
      font-size: 0.85rem;
      box-sizing: border-box;
    }

    /* MUSIC APP */
    .music-list button {
      width: 100%;
      margin: 4px 0;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #0ff;
      background: rgba(0,0,0,0.8);
      color: #eaffff;
      cursor: pointer;
      font-size: 0.8rem;
      transition: 0.2s;
    }

    .music-list button:hover {
      background: rgba(0,255,255,0.25);
      box-shadow: 0 0 10px #0ff;
    }

    /* WEATHER APP */
    .weather-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .weather-card {
      text-align: center;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #0ff;
      background: rgba(0,0,0,0.7);
    }

    /* FILES APP */
    .file-item {
      padding: 6px 8px;
      border-radius: 6px;
      border: 1px solid #0ff;
      margin-bottom: 6px;
      background: rgba(0,0,0,0.7);
      font-size: 0.8rem;
    }

    /* ARCADE APP */
    #arcade-box {
      width: 220px;
      height: 220px;
      border-radius: 50%;
      border: 2px solid #0ff;
      margin: 10px auto;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 25px #0ff;
    }

    #arcade-dot {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #0ff;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    /* CONSOLE APP */
    #console-log {
      width: 100%;
      height: 220px;
      background: #000;
      border: 1px solid #0ff;
      border-radius: 8px;
      padding: 8px;
      color: #0ff;
      font-family: monospace;
      font-size: 0.8rem;
      overflow-y: auto;
      box-sizing: border-box;
    }

  </style>
</head>

<body>

  <div class="galaxia-intro">Made with Galaxia</div>

  <div class="stars"></div>
  <div class="stars2"></div>
  <div class="stars3"></div>

  <!-- TOGGLE SHORTCUTS -->
  <div class="toggle-panel" onclick="togglePanel()">‚ò∞ Menu</div>

  <!-- TOP BAR -->
  <div class="top-bar">
    <input id="url" class="url-input" placeholder="Enter URL or Galaxia:home">
    <button id="goBtn" class="btn">Go</button>
    <span class="turbo-indicator" id="turboLabel">Turbo: OFF</span>
  </div>

  <div class="main-wrap">
    <!-- SHORTCUT PANEL -->
    <div class="gx-shortcuts" id="panel">
      <h3>Galaxia OS</h3>
      <button onclick="openApp('home')">üè† Home</button>
      <button onclick="openApp('apps')">üõ∞ Apps Hub</button>
      <button onclick="openApp('chatroom')">üí¨ Chatroom</button>
      <button onclick="openApp('about')">‚Ñπ About</button>
      <hr style="border-color:#0ff33; opacity:0.4;">
      <button onclick="openApp('web')">üåê Web Browser</button>
      <button onclick="openApp('notes')">üìù Notes</button>
      <button onclick="openApp('clock')">‚è± Clock</button>
      <button onclick="openApp('calc')">üßÆ Calculator</button>
      <button onclick="openApp('terminal')">üíª Terminal</button>
      <button onclick="openApp('settings')">‚öô Settings</button>
      <button onclick="openApp('arcade')">üéÆ Arcade</button>
      <button onclick="openApp('music')">üéµ Music</button>
      <button onclick="openApp('weather')">‚òÅ Weather</button>
      <button onclick="openApp('files')">üìÅ Files</button>
      <button onclick="openApp('news')">üì∞ News</button>
      <button onclick="openApp('social')">üåê Social</button>
      <button onclick="openApp('store')">üõí Store</button>
      <button onclick="openApp('console')">üìü Console</button>
      <button onclick="toggleTurbo()">‚ö° Turbo Mode</button>
    </div>

    <!-- DESKTOP / APP AREA -->
    <div class="desktop">

      <!-- HOME APP -->
      <div class="app-screen active" id="app-home">
        <div class="app-title">Galaxia OS</div>
        <div class="app-sub">Welcome to your sci‚Äëfi desktop. Use the menu to open apps or type Galaxia commands.</div>
        <div class="card">
          <b>Quick commands:</b><br>
          galaxia:home<br>
          galaxia:apps<br>
          galaxia:chatroom<br>
          galaxia:about<br>
          galaxia:web<br>
          galaxia:notes<br>
          galaxia:clock<br>
          galaxia:calc<br>
          galaxia:terminal<br>
          galaxia:settings<br>
          galaxia:arcade<br>
          galaxia:music<br>
          galaxia:weather<br>
          galaxia:files<br>
          galaxia:news<br>
          galaxia:social<br>
          galaxia:store<br>
          galaxia:console
        </div>
        <div class="card">
          <b>Tip:</b> Turn on Turbo Mode in the menu for faster app switching and web fades.
        </div>
      </div>

      <!-- APPS HUB -->
      <div class="app-screen" id="app-apps">
        <div class="app-title">Apps Hub</div>
        <div class="app-sub">All your Galaxia apps in one place.</div>
        <div class="card">
          <b>Core Apps:</b><br>
          Home, Apps Hub, Chatroom, About, Web Browser
        </div>
        <div class="card">
          <b>Utility Apps:</b><br>
          Notes, Clock, Calculator, Terminal, Settings, Files, Console
        </div>
        <div class="card">
          <b>Fun & Web:</b><br>
          Arcade, Music, Weather, News, Social, Store
        </div>
      </div>

      <!-- CHATROOM APP (placeholder) -->
      <div class="app-screen" id="app-chatroom">
        <div class="app-title">Chatroom</div>
        <div class="app-sub">Placeholder for your future real chatroom.</div>
        <div class="card">
          This is where your Galaxia chatroom UI will live.<br>
          You can later add messages, usernames, and auto-refresh logic.
        </div>
      </div>

      <!-- ABOUT APP -->
      <div class="app-screen" id="app-about">
        <div class="app-title">About Galaxia</div>
        <div class="app-sub">Custom sci‚Äëfi browser & OS by you.</div>
        <div class="card">
          <b>Creator:</b> You<br>
          <b>Theme:</b> Black & Neon Blue<br>
          <b>Engine:</b> HTML + CSS + JS (single file)<br>
          <b>Features:</b> Turbo Mode, internal apps, URL browser, starfield, shortcuts panel.
        </div>
      </div>

      <!-- WEB BROWSER APP -->
      <div class="app-screen" id="app-web">
        <div class="app-title">Web Browser</div>
        <div class="app-sub">Use the top URL bar to load real sites or Galaxia commands.</div>
        <iframe id="webFrame" src="about:blank"></iframe>
      </div>

      <!-- NOTES APP -->
      <div class="app-screen" id="app-notes">
        <div class="app-title">Notes</div>
        <div class="app-sub">Write anything. Stored in this session only.</div>
        <textarea id="notes-area" placeholder="Type your notes here..."></textarea>
      </div>

      <!-- CLOCK APP -->
      <div class="app-screen" id="app-clock">
        <div class="app-title">Clock</div>
        <div class="app-sub">Live digital clock in Galaxia style.</div>
        <div id="clock-display">--:--:--</div>
        <div class="card">
          <b>Mode:</b> 24‚Äëhour<br>
          <b>Updates:</b> Every second
        </div>
      </div>

      <!-- CALCULATOR APP -->
      <div class="app-screen" id="app-calc">
        <div class="app-title">Calculator</div>
        <div class="app-sub">Basic neon calculator.</div>
        <input id="calc-display" class="calc-display" readonly>
        <div class="calc-grid">
          <button class="calc-btn" onclick="calcPress('7')">7</button>
          <button class="calc-btn" onclick="calcPress('8')">8</button>
          <button class="calc-btn" onclick="calcPress('9')">9</button>
          <button class="calc-btn" onclick="calcPress('/')">√∑</button>

          <button class="calc-btn" onclick="calcPress('4')">4</button>
          <button class="calc-btn" onclick="calcPress('5')">5</button>
          <button class="calc-btn" onclick="calcPress('6')">6</button>
          <button class="calc-btn" onclick="calcPress('*')">√ó</button>

          <button class="calc-btn" onclick="calcPress('1')">1</button>
          <button class="calc-btn" onclick="calcPress('2')">2</button>
          <button class="calc-btn" onclick="calcPress('3')">3</button>
          <button class="calc-btn" onclick="calcPress('-')">‚àí</button>

          <button class="calc-btn" onclick="calcPress('0')">0</button>
          <button class="calc-btn" onclick="calcPress('.')">.</button>
          <button class="calc-btn" onclick="calcEquals()">=</button>
          <button class="calc-btn" onclick="calcPress('+')">+</button>

          <button class="calc-btn" onclick="calcClear()">C</button>
        </div>
      </div>

      <!-- TERMINAL APP -->
      <div class="app-screen" id="app-terminal">
        <div class="app-title">Terminal</div>
        <div class="app-sub">Fake hacking terminal for fun.</div>
        <div id="terminal-output"></div>
        <input id="terminal-input" placeholder="Type a command (help, clear, galaxia)...">
      </div>

      <!-- SETTINGS APP -->
      <div class="app-screen" id="app-settings">
        <div class="app-title">Settings</div>
        <div class="app-sub">Basic toggles and info.</div>
        <div class="card">
          <b>Turbo Mode:</b> <span id="settings-turbo">OFF</span><br>
          Use the menu button "Turbo Mode" to toggle.
        </div>
        <div class="card">
          <b>Theme:</b> Black + Neon Blue<br>
          <b>Layout:</b> Single‚Äëfile SPA<br>
          <b>Starfield:</b> Enabled
        </div>
      </div>

      <!-- ARCADE APP -->
      <div class="app-screen" id="app-arcade">
        <div class="app-title">Arcade</div>
        <div class="app-sub">Mini‚Äëgame: move the dot with arrow keys.</div>
        <div id="arcade-box">
          <div id="arcade-dot"></div>
        </div>
        <div class="card">
          Use arrow keys to move the glowing dot.<br>
          You can later replace this with a real game.
        </div>
      </div>

      <!-- MUSIC APP -->
      <div class="app-screen" id="app-music">
        <div class="app-title">Music</div>
        <div class="app-sub">Simple audio player (uses sample tracks).</div>
        <audio id="music-player" controls style="width:100%; margin-bottom:10px;">
          <source id="music-source" src="" type="audio/mpeg">
          Your browser does not support audio.
        </audio>
        <div class="music-list">
          <button onclick="playTrack('https://www2.cs.uic.edu/~i101/SoundFiles/StarWars60.wav')">Play Track 1</button>
          <button onclick="playTrack('https://www2.cs.uic.edu/~i101/SoundFiles/ImperialMarch60.wav')">Play Track 2</button>
        </div>
      </div>

      <!-- WEATHER APP -->
      <div class="app-screen" id="app-weather">
        <div class="app-title">Weather</div>
        <div class="app-sub">Fake sci‚Äëfi weather dashboard.</div>
        <div class="weather-grid">
          <div class="weather-card">
            <b>Maesteg</b><br>
            12¬∞C<br>
            Clear Skies
          </div>
          <div class="weather-card">
            <b>Galaxia Prime</b><br>
            -120¬∞C<br>
            Ion Storms
          </div>
          <div class="weather-card">
            <b>Orbital Station</b><br>
            0¬∞C<br>
            Vacuum
          </div>
        </div>
      </div>

      <!-- FILES APP -->
      <div class="app-screen" id="app-files">
        <div class="app-title">Files</div>
        <div class="app-sub">Fake file explorer UI.</div>
        <div class="file-item">/system/galaxia/core.html</div>
        <div class="file-item">/system/galaxia/apps/notes</div>
        <div class="file-item">/system/galaxia/apps/terminal</div>
        <div class="file-item">/user/documents/ideas.txt</div>
        <div class="file-item">/user/music/track1.mp3</div>
      </div>

      <!-- NEWS APP -->
      <div class="app-screen" id="app-news">
        <div class="app-title">News</div>
        <div class="app-sub">Static sci‚Äëfi style news cards.</div>
        <div class="card">
          <b>Galaxia OS v1.0 Launched</b><br>
          Your custom browser‚ÄëOS hybrid is now live.
        </div>
        <div class="card">
          <b>Turbo Mode Activated</b><br>
          Faster app switching and web fades enabled.
        </div>
      </div>

      <!-- SOCIAL APP -->
      <div class="app-screen" id="app-social">
        <div class="app-title">Social</div>
        <div class="app-sub">Links to your favourite sites (open via URL bar).</div>
        <div class="card">
          Type in the URL bar:<br>
          youtube.com<br>
          discord.com<br>
          github.com<br>
          reddit.com
        </div>
      </div>

      <!-- STORE APP -->
      <div class="app-screen" id="app-store">
        <div class="app-title">Galaxia Store</div>
        <div class="app-sub">Fake app store UI.</div>
        <div class="card">
          <b>Featured:</b> Galaxia Arcade, Galaxia Music, Galaxia Terminal<br>
          (All already installed.)
        </div>
      </div>

      <!-- CONSOLE APP -->
      <div class="app-screen" id="app-console">
        <div class="app-title">System Console</div>
        <div class="app-sub">Logs basic actions.</div>
        <div id="console-log"></div>
      </div>

    </div>
  </div>

  <script>
    const urlInput = document.getElementById("url");
    const goBtn = document.getElementById("goBtn");
    const panel = document.getElementById("panel");
    const turboLabel = document.getElementById("turboLabel");
    const webFrame = document.getElementById("webFrame");
    const consoleLog = document.getElementById("console-log");

    let turbo = false;
    let calcBuffer = "";

    function logConsole(msg) {
      const time = new Date().toLocaleTimeString();
      consoleLog.innerHTML += "[" + time + "] " + msg + "<br>";
      consoleLog.scrollTop = consoleLog.scrollHeight;
    }

    function togglePanel() {
      panel.classList.toggle("hidden");
    }

    function toggleTurbo() {
      turbo = !turbo;
      turboLabel.textContent = "Turbo: " + (turbo ? "ON" : "OFF");
      document.getElementById("settings-turbo").textContent = turbo ? "ON" : "OFF";
      alert("Turbo Mode: " + (turbo ? "ON" : "OFF"));
      logConsole("Turbo mode set to " + (turbo ? "ON" : "OFF"));
    }

    function openApp(name) {
      const screens = document.querySelectorAll(".app-screen");
      screens.forEach(s => s.classList.remove("active"));
      const target = document.getElementById("app-" + name);
      if (target) {
        target.classList.add("active");
        logConsole("Opened app: " + name);
      }
    }

    function setTab(page) {
      openApp(page);
    }

    function loadURL(value) {
      let url = value.trim();
      if (!url) return;

      // Internal Galaxia commands
      if (url.toLowerCase().startsWith("galaxia:")) {
        const page = url.split(":")[1].toLowerCase();
        openApp(page);
        logConsole("Command: " + url);
        return;
      }

      // External URL
      if (url.includes(".")) {
        if (!url.startsWith("http://") && !url.startsWith("https://")) {
          url = "https://" + url;
        }
        openApp("web");
        webFrame.style.opacity = "0";
        setTimeout(() => {
          webFrame.src = url;
          webFrame.onload = () => {
            webFrame.style.opacity = "1";
          };
        }, turbo ? 10 : 200);
        logConsole("Loading URL: " + url);
      }
    }

    goBtn.addEventListener("click", () => loadURL(urlInput.value));
    urlInput.addEventListener("keydown", e => {
      if (e.key === "Enter") loadURL(urlInput.value);
    });

    /* CLOCK */
    function updateClock() {
      const d = new Date();
      const h = String(d.getHours()).padStart(2, "0");
      const m = String(d.getMinutes()).padStart(2, "0");
      const s = String(d.getSeconds()).padStart(2, "0");
      const el = document.getElementById("clock-display");
      if (el) el.textContent = h + ":" + m + ":" + s;
    }
    setInterval(updateClock, 1000);
    updateClock();

    /* CALCULATOR */
    function calcPress(val) {
      calcBuffer += val;
      document.getElementById("calc-display").value = calcBuffer;
    }
    function calcEquals() {
      try {
        const result = eval(calcBuffer || "0");
        calcBuffer = String(result);
        document.getElementById("calc-display").value = calcBuffer;
      } catch {
        calcBuffer = "";
        document.getElementById("calc-display").value = "Error";
      }
    }
    function calcClear() {
      calcBuffer = "";
      document.getElementById("calc-display").value = "";
    }

    /* TERMINAL */
    const termOut = document.getElementById("terminal-output");
    const termIn = document.getElementById("terminal-input");

    function termPrint(text) {
      termOut.innerHTML += text + "<br>";
      termOut.scrollTop = termOut.scrollHeight;
    }

    termPrint("Galaxia Terminal v1.0");
    termPrint("Type 'help' for commands.");

    termIn.addEventListener("keydown", e => {
      if (e.key === "Enter") {
        const cmd = termIn.value.trim();
        termIn.value = "";
        termPrint("> " + cmd);
        if (cmd === "help") {
          termPrint("Commands: help, clear, galaxia, turbo");
        } else if (cmd === "clear") {
          termOut.innerHTML = "";
        } else if (cmd === "galaxia") {
          termPrint("Custom OS & browser hybrid.");
        } else if (cmd === "turbo") {
          toggleTurbo();
        } else {
          termPrint("Unknown command.");
        }
      }
    });

    /* ARCADE DOT */
    const dot = document.getElementById("arcade-dot");
    let dotX = 50;
    let dotY = 50;

    document.addEventListener("keydown", e => {
      const step = 4;
      if (document.getElementById("app-arcade").classList.contains("active")) {
        if (e.key === "ArrowUp") dotY -= step;
        if (e.key === "ArrowDown") dotY += step;
        if (e.key === "ArrowLeft") dotX -= step;
        if (e.key === "ArrowRight") dotX += step;
        if (dotX < 5) dotX = 5;
        if (dotX > 95) dotX = 95;
        if (dotY < 5) dotY = 5;
        if (dotY > 95) dotY = 95;
        dot.style.top = dotY + "%";
        dot.style.left = dotX + "%";
      }
    });

    /* MUSIC */
    const musicPlayer = document.getElementById("music-player");
    const musicSource = document.getElementById("music-source");
    function playTrack(url) {
      musicSource.src = url;
      musicPlayer.load();
      musicPlayer.play();
      logConsole("Playing track: " + url);
    }

    /* INITIAL */
    openApp("home");
    logConsole("Galaxia OS started.");
  </script>

</body>
</html>
