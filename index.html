<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Galaxia</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#05070c;
  --panel:#0b1424;
  --blue:#2ea3ff;
  --blue2:#0b5cff;
}
*{box-sizing:border-box;font-family:Inter,system-ui}
body{
  margin:0;
  background:radial-gradient(circle at top,#081a33,#05070c);
  color:white;
  height:100vh;
  overflow:hidden;
}

/* LOCK */
#lock{
  position:fixed;inset:0;
  background:#05070c;
  display:flex;align-items:center;justify-content:center;
  z-index:999;
}
#lockBox{
  background:var(--panel);
  padding:32px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 0 50px #2ea3ff44;
}
input,button{
  background:#0e1a33;
  color:white;
  border:none;
  border-radius:14px;
  padding:12px 16px;
}
button{
  cursor:pointer;
  background:linear-gradient(135deg,var(--blue),var(--blue2));
}
button:hover{opacity:.9}

/* SIDEBAR */
#sidebar{
  position:fixed;left:0;top:0;bottom:0;
  width:72px;
  background:#070f1f;
  transition:.3s;
}
#sidebar:hover{width:210px}
.sidebtn{
  display:flex;
  gap:12px;
  padding:16px;
  margin:10px;
  border-radius:18px;
  cursor:pointer;
  align-items:center;
}
.sidebtn:hover{background:#2ea3ff22}
.sidebtn span{white-space:nowrap}

/* MAIN */
#main{
  margin-left:72px;
  padding:20px;
  height:100vh;
}
.panel{
  display:none;
  height:calc(100vh - 40px);
  background:rgba(11,20,36,.85);
  border-radius:24px;
  padding:20px;
}
.panel.active{display:block}

/* BROWSER */
#browserTop{display:flex;gap:10px;margin-bottom:10px}
iframe{
  width:100%;
  height:100%;
  border:none;
  border-radius:18px;
  background:black;
}

/* CHAT */
.chatBox{
  height:85%;
  overflow-y:auto;
}
.msg{
  background:#0e1a33;
  margin:8px;
  padding:12px;
  border-radius:16px;
  max-width:70%;
}
.me{margin-left:auto;background:#0b5cff}
.chatInput{display:flex;gap:10px;margin-top:10px}

/* ADMIN */
.adminRow{
  background:#0e1a33;
  padding:10px;
  margin:8px 0;
  border-radius:14px;
}
</style>
</head>

<body>

<!-- LOCK -->
<div id="lock">
  <div id="lockBox">
    <h2>üîí Galaxia Locked</h2>
    <input id="lockCode" placeholder="Enter code">
    <br><br>
    <button onclick="unlockSite()">Unlock</button>
  </div>
</div>

<!-- SIDEBAR -->
<div id="sidebar">
  <div class="sidebtn" onclick="openPanel('browser')">üåê <span>Browser</span></div>
  <div class="sidebtn" onclick="openPanel('apiChat')">üí¨ <span>Public Chat</span></div>
  <div class="sidebtn" onclick="unlockPremium()">üíé <span>Premium Chat</span></div>
  <div class="sidebtn" onclick="openPanel('calc')">üßÆ <span>Calculator</span></div>
  <div class="sidebtn" onclick="openPanel('clock')">üïí <span>Clock</span></div>
  <div class="sidebtn" onclick="unlockAdmin()">üõ† <span>Admin</span></div>
  <div class="sidebtn" onclick="openPanel('about')">‚ÑπÔ∏è <span>About</span></div>
</div>

<div id="main">

<!-- BROWSER -->
<div id="browser" class="panel active">
  <div id="browserTop">
    <input id="search" placeholder="Search or URL" style="flex:1">
    <button onclick="go()">Go</button>
  </div>
  <iframe id="view" src="https://duckduckgo.com"></iframe>
</div>

<!-- API CHAT -->
<div id="apiChat" class="panel">
  <div class="chatBox" id="apiMsgs"></div>
  <div class="chatInput">
    <input id="apiInput" placeholder="Message">
    <button onclick="sendAPI()">Send</button>
  </div>
</div>

<!-- PREMIUM CHAT -->
<div id="premiumChat" class="panel">
  <div class="chatBox" id="fbMsgs"></div>
  <div class="chatInput">
    <input id="fbInput" placeholder="Premium message">
    <button onclick="sendFB()">Send</button>
  </div>
</div>

<!-- CALCULATOR -->
<div id="calc" class="panel">
  <input id="calcIn" placeholder="2+2">
  <button onclick="calculate()">Calculate</button>
  <h2 id="calcOut"></h2>
</div>

<!-- CLOCK -->
<div id="clock" class="panel">
  <h1 id="time"></h1>
</div>

<!-- ADMIN -->
<div id="admin" class="panel">
  <h2>Admin Panel</h2>
  <button onclick="clearFirebase()">Clear Premium Chat</button>
</div>

<!-- ABOUT -->
<div id="about" class="panel">
  <h2>About</h2>
  <p>Made 2026 by Williampitcher347@gmail.com</p>
</div>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getDatabase, ref, push, onValue, remove } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

const firebaseConfig={
 apiKey:"AIzaSyCPLk7btD2izv-d0u8GrlQV2VIwphrSkMU",
 databaseURL:"https://galaxia-chat-servers-2-default-rtdb.firebaseio.com"
};
const app=initializeApp(firebaseConfig);
const db=getDatabase(app);

/* GLOBAL */
window.openPanel=id=>{
 document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
 document.getElementById(id).classList.add('active');
};

/* LOCK */
if(localStorage.unlocked==="yes") lock.style.display="none";
window.unlockSite=()=>{
 if(lockCode.value==="2013"){
  localStorage.unlocked="yes";
  lock.style.display="none";
 } else alert("Wrong code");
};

/* BROWSER */
window.go=()=>{
 const q=search.value.trim();
 view.src=q.startsWith("http")?q:`https://duckduckgo.com/?q=${encodeURIComponent(q)}`;
};

/* CLOCK */
setInterval(()=>time.textContent=new Date().toLocaleTimeString(),1000);

/* CALC */
window.calculate=()=>{
 try{calcOut.textContent=Function(`return ${calcIn.value}`)();}
 catch{calcOut.textContent="Error";}
};

/* API CHAT */
const apiURL="https://696fdb3ca06046ce61880d4c.mockapi.io/Galaxia-messages";
fetch(apiURL).then(r=>r.json()).then(d=>{
 apiMsgs.innerHTML="";
 d.forEach(m=>apiMsgs.innerHTML+=`<div class="msg">${m.text}</div>`);
});
window.sendAPI=()=>{
 fetch(apiURL,{method:"POST",headers:{'Content-Type':'application/json'},body:JSON.stringify({text:apiInput.value})});
 apiInput.value="";
};

/* PREMIUM CHAT */
onValue(ref(db,"messages"),snap=>{
 fbMsgs.innerHTML="";
 snap.forEach(c=>fbMsgs.innerHTML+=`<div class="msg">${c.val().text}</div>`);
});
window.sendFB=()=>{
 push(ref(db,"messages"),{text:fbInput.value});
 fbInput.value="";
};

/* UNLOCKS */
window.unlockPremium=()=>{
 if(prompt("Premium Code")==="William2013") openPanel("premiumChat");
};
window.unlockAdmin=()=>{
 if(prompt("Admin Code")==="WP2013") openPanel("admin");
};
window.clearFirebase=()=>{
 remove(ref(db,"messages"));
};
</script>

</body>
</html>
